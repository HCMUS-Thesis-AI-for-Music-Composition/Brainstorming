Date.fromTs=function(t){if(null==t||null==t)return new Date;var e=t.split(/[- :]/);return new Date(e[0],e[1]-1,e[2],e[3],e[4],e[5])},Date.tsIsInFuture=function(t){return Date.fromTs(t)>new Date},Date.prototype.yyyymmdd=function(){var t=this.getFullYear().toString(),e=(this.getMonth()+1).toString(),o=this.getDate().toString();return t+"-"+(e[1]?e:"0"+e[0])+"-"+(o[1]?o:"0"+o[0])},Date.prototype.yyyymmddhhmmss=function(){var t=this.getFullYear().toString(),e=(this.getMonth()+1).toString(),o=this.getDate().toString(),i=this.getHours().toString(),s=this.getMinutes().toString(),n=this.getSeconds().toString();return t+"-"+(e[1]?e:"0"+e[0])+"-"+(o[1]?o:"0"+o[0])+" "+(i[1]?i:"0"+i[0])+":"+(s[1]?s:"0"+s[0])+":"+(n[1]?n:"0"+n[0])};var tsToDate=function(t){if(null==t||null==t)return new Date;var e=t.split(/[- :]/);return new Date(e[0],e[1]-1,e[2],e[3],e[4],e[5])};function bindEvent(t,e,o){void 0!==t?null!==t?(console.log("bindEvent() adding listener for "+e+" to "+t.id),t.addEventListener?t.addEventListener(e,o):t.attachEvent&&t.attachEvent("on"+e,o)):console.log("bindEvent() ERROR: arg 1 is null; not adding listener for "+e):console.log("bindEvent() ERROR: arg1 is undefined; not adding listener for "+e)}function writeToDebug(t){var e=document.getElementById("debug");e&&(e.appendChild(document.createTextNode(t)),e.appendChild(document.createElement("br")))}function objectMerge(t,e){var o;for(o in e)e[o]instanceof Object?objectMerge(t[o],e[o]):t[o]=e[o]}function objectTrace(t){var e;for(e in t)t[e]instanceof Object?(console.log("objectTrace() (recursive START "+e+")"),objectTrace(t[e]),console.log("objectTrace() (recursive END "+e+")")):console.log("objectTrace() "+e+": "+t[e])}function getOffset(t){for(var e=0,o=0;t&&!isNaN(t.offsetLeft)&&!isNaN(t.offsetTop);)e+=t.offsetLeft-t.scrollLeft,o+=t.offsetTop-t.scrollTop,t=t.offsetParent;return{top:o,left:e}}function offset(t){var e=document.body,o=window,i=document.documentElement,s=document.createElement("div");s.style.paddingLeft=s.style.width="1px",e.appendChild(s);var n=2==s.offsetWidth;e.removeChild(s),s=t.getBoundingClientRect();var a=i.clientTop||e.clientTop||0,l=i.clientLeft||e.clientLeft||0,h=o.pageYOffset||n&&i.scrollTop||e.scrollTop,r=o.pageXOffset||n&&i.scrollLeft||e.scrollLeft;return{top:s.top+h-a,left:s.left+r-l}}function getWindowSize(){var t,e;return"number"==typeof window.innerWidth?(t=window.innerWidth,e=window.innerHeight):document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?(t=document.documentElement.clientWidth,e=document.documentElement.clientHeight):document.body&&(document.body.clientWidth||document.body.clientHeight)&&(t=document.body.clientWidth,e=document.body.clientHeight),{height:e,width:t}}function addEvent(t,e,o){var i=this[t];this[t]=i?function(){i(),e(o)}:function(){e(o)}}function getScrollTop(){return document.body.scrollTop||document.documentElement.scrollTop}null==document.getElementsByClassName&&(document.getElementsByClassName=function(t){for(var e,o=new RegExp("(?:^|\\s)"+t+"(?:$|\\s)"),i=document.getElementsByTagName("*"),s=[],n=0;null!=(e=i[n]);n++){var a=e.className;a&&-1!=a.indexOf(t)&&o.test(a)&&s.push(e)}return s});var parseHash=function(t){for(var e=t.substring(1,t.length).split("&"),o={},i=0;i<e.length;i++)asKeyValue=e[i].split("="),o[asKeyValue[0]]=asKeyValue[1];return o};function loadjscssfile(t,e){if("js"==e)(o=document.createElement("script")).setAttribute("type","text/javascript"),o.setAttribute("src",t);else if("css"==e){var o;(o=document.createElement("link")).setAttribute("rel","stylesheet"),o.setAttribute("type","text/css"),o.setAttribute("href",t)}void 0!==o&&document.getElementsByTagName("head")[0].appendChild(o)}function formsubmit(t,e){if(void 0!==e)var o=confirm(e);else o=confirm("Are you sure?  This action is permanent.");if(!0!==o)return!1;document.getElementById(t).submit()}function abbreviate(t,e,o){var i,s="",n=void 0!==o?o:"...",a=e-n.length,l=0,h=t;if((h=h.replace(/^\s+|\s+$/g,"").replace(/[\r\n]*\s*[\r\n]+/g," ").replace(/[ \t]+/g," ")).length<=a)return h;for(i=(h=h.split(" ")).length;l<i&&(s+h[l]).length<a;)s+=h[l]+" ",l++;return s.replace(/[ ]$/g,"")+n}function Collection(t){this.oParams=t,this.jToggle=$("#"+t.sToggleId),this.jRows=[],this.aoCollections=[],this.sOverlayId="collection-overlay",this.sFormContainerId="collection-form-container",this.sFormInputId="collection-form-input",this.sFormSubmitId="collection-form-submit",this.sTableId="collection-table",this.sAddedCollectionId="collection-new",this.bCached=!1,this.bCaching=!1,this.bShowingOverlay=!1,this.sBusyHTML='<i class="fa fa-spinner fa-spin"></i>',this.sCheckedHTML='<i class="icon-check"></i>',this.sUncheckedHTML='<i class="icon-check-empty"></i>',this.sIsFavHTML="Add to My Collections",this.sNotFavHTML="Add to My Collections";var e=this;$(document).click(function(t){e.handleDocumentClick(t)}),this.jToggle.click(function(t){t.stopPropagation(),e.handleToggleClick(t)}),$(window).resize(function(){e.handleResize()}),this.initializeIcon()}function CPList(t){this.oTitle=$("#"+t.sTitleID),this.oSelect=$("#"+t.sSelectID),this.oContent=$("#"+t.sContentID),this.oOverlay=$("#"+t.sOverlayID),this.nSongs=t.nSongs,this.oParams=t,this.nPage=1,this.nResults=0,this.sResults="",this.sLoadMoreID=this.oParams.sContentID+"_showmore";var e=this;console.log('CPList.js adding listener for "RefreshList"'),bindEvent(document,"RefreshList",function(t){e.sNodePath=t.detail.path,e.sChords=t.detail.label,e.sKey=t.detail.key,e.nNum=t.detail.num,window.location.hash="node="+e.sNodePath+"&key="+e.sKey,e.handleRefreshList()}),this.oSelect.change(function(t){e.handleRefreshList()})}function CommentForm(t){this.jInput=$("#"+t.sInputID),this.jSubmit=$("#"+t.sSubmitID),this.jError=$("#"+t.sErrorID),this.jThread=$("#"+t.sThreadID),this.jLoadPrevious=$("#"+t.sLoadPreviousID),this.jGif=$("#"+t.sGifID),this.oParams=t,this.jGif.hide(),this.bAllowSubmit=!0;var e=this;this.jSubmit.click(function(){1==e.bAllowSubmit&&e.saveComment()}),this.jLoadPrevious.click(function(){e.loadPrevious()})}function DeleteTool(t){this.oParams=t,this.oDiv=$("#"+this.oParams.sDivID),this.oButton=$("#"+this.oParams.sButtonID),this.oGif=$("#"+this.oParams.sGifID);var e=this;this.oButton.click(function(){e.handleClick()})}function Collapse(t){this.jToggle=$("#"+t.sToggleID),this.jContent=$("#"+t.sContentID);var e=this;this.jToggle.click(function(){e.jContent.hide()})}function Answer(t){this.oToggle=$("#"+t+"-toggle"),this.oContent=$("#"+t+"-answer"),this.sHideText="Hide answer",this.sShowText="Show answer",this.bVisible?this.oToggle.html(this.sHideText):(this.oContent.hide(),this.oToggle.html(this.sShowText));var e=this;this.oToggle.click(function(){this.bVisible?(e.oContent.hide(),e.oToggle.html(e.sShowText)):(e.oContent.show(),e.oToggle.html(e.sHideText)),this.bVisible=!this.bVisible})}function PrivacyTool2(t){this.oButton=$("#"+t.sButtonID),this.oGif=$("#"+t.sGifID),this.bIsPrivate=t.bIsPrivate,this.oParams=t;var e=this;this.oButton.click(function(){e.updatePrivacy()}),this.updateDisplayItems()}function SearchTool2(t,e,o,i,s,n,a){this.oTextbox=$("#"+e),this.oPulldown=$("#"+o),this.oPulldown2=$("#"+i),this.oGif=$("#"+s),this.oDiv=$("#"+n),this.oSpan=$("#"+a),this.sURL=t,this.bHasBeenClicked=!1,this.sTextHint=this.oTextbox.val();var l=window.location.hash;""!=l&&(this.oTextbox.val(unescape(l.substring(1,l.length))),this.bHasBeenClicked=!0,this.sTextHint="Search");var h=this;this.oTextbox.click(function(t){h.handleTextboxClick()});var r={callback:function(){h.makeServerRequest()},wait:100,highlight:!0,captureLength:0};this.oTextbox.typeWatch(r),this.oPulldown.change(function(t){h.handlePulldownChange()}),this.oPulldown2.change(function(t){h.handlePulldownChange()}),this.makeServerRequest()}function SearchToolStudents(t,e,o,i,s,n,a,l,h){this.oTextbox=$("#"+e),this.oTextbox2=$("#"+o),this.oPulldown=$("#"+i),this.oGif=$("#"+s),this.oDiv=$("#"+n),this.oSpan=$("#"+a),this.sURL=t,this.bHasBeenClicked=!1,this.bHasBeenClickedText2=!1,this.sTextHint=this.oTextbox.val(),this.sTextHint2=this.oTextbox2.val(),this.nPage=l,this.nPerPage=h;var r=window.location.hash;if(""!=r){var c=unescape(r.substring(1,r.length)).split("_");this.oTextbox.val(c[0]),this.oTextbox2.val(c[1]),"date"==c[2]||this.oPulldown.val("song"),this.bHasBeenClicked=!0,this.bHasBeenClickedText2=!0,this.sTextHint="Search"}var d=this;this.oTextbox.click(function(t){d.handleTextboxClick()}),this.oTextbox2.click(function(t){d.handleTextboxClick2()});var u={callback:function(){d.makeServerRequest()},wait:100,highlight:!0,captureLength:0};this.oTextbox.typeWatch(u),this.oTextbox2.typeWatch(u),this.oPulldown.change(function(t){d.handlePulldownChange()}),this.makeServerRequest()}Ready=function(){this.aFunction=Array(),this.bindReady()},Ready.prototype.push=function(t){this.aFunction.push(t)},Ready.prototype.handleReady=function(){for(var t=0;t<this.aFunction.length;t++)this.aFunction[t]()},Ready.prototype.bindReady=function(){var t=this;document.addEventListener?document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",arguments.callee,!1),t.handleReady()},!1):document.attachEvent?(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",arguments.callee),t.handleReady())}),document.documentElement.doScroll&&window==window.top&&function(){try{document.documentElement.doScroll("left")}catch(t){return void setTimeout(arguments.callee,0)}t.handleReady()}()):onload=t.handleReady()},Collection.prototype={initializeIcon:function(){1!=this.oParams.bIsGuest?this.prepareOverlay():this.jToggle.html(this.sNotFavHTML)},handleToggleClick:function(t){console.log("Collection.handleToggleClick()"),0==this.oParams.bIsGuest?this.handleToggleClickContinue():this.loginCheck()},loginCheck:function(){console.log("Collection.loginCheck()");var t=this;$.ajax({async:!0,type:"GET",dataType:"JSON",url:this.oParams.sURLIsGuest,success:function(e){1==e.isGuest?hooktheoryLogin("Please sign in to use collections."):(t.oParams.bIsGuest=!1,t.handleToggleClickContinue())},error:function(t,e,o){console.log("Collection.loginCheck() ajax.error(): "+o)}})},handleToggleClickContinue:function(){that=this,this.bShowingOverlay?this.hideOverlay():this.bCached?this.showOverlay():this.bCaching?(this.jToggle.html(this.sBusyHTML),$(document).bind("collection:overlay_ready",function(){that.handleOverlayReadyViaToggleClick()})):(this.jToggle.html(this.sBusyHTML),$(document).bind("collection:overlay_ready",function(){that.handleOverlayReadyViaToggleClick()}),this.prepareOverlay())},handleOverlayReadyViaToggleClick:function(){$(document).unbind("collection:overlay_ready"),this.showOverlay()},prepareOverlay:function(){this.bCached||this.bCaching||(this.bCaching=!0,that=this,$(document).bind("collection:data_complete",function(){that.handleDataComplete()}),this.getCollections())},handleDataComplete:function(){$(document).unbind("collection:data_complete"),this.buildOverlay(),this.populateOverlay(),this.updateToggle(),this.bCaching=!1,this.bCached=!0,$(document).trigger("collection:overlay_ready")},updateToggle:function(){var t;for(t=0;t<this.aoCollections.length;t++)if(1==this.aoCollections[t].has_wiki)return void this.jToggle.html(this.sIsFavHTML);this.jToggle.html(this.sNotFavHTML)},getCollections:function(){this.bCaching=!0;var t=this;$.ajax({async:!0,type:"GET",dataType:"JSON",url:this.oParams.sURLGetCollections,success:function(e){t.aoCollections=e,$(document).trigger("collection:data_complete")},error:function(t,e,o){}})},populateOverlay:function(){var t=this,e="";e+='<div id="collection-list" class="collections">',e+='<div  class="my">',e+='<a href="'+this.oParams.sURLCollections+'" title="Browse my collections">Browse My Collections</a>',e+="</div>",e+='<hr class="tight-3">',e+='<table class="collections" id="'+this.sTableId+'">';for(var o=0;o<this.aoCollections.length;o++)e+='<tr id="'+this.aoCollections[o].id+'">',1==this.aoCollections[o].has_wiki?e+='<td class="input">'+this.sCheckedHTML+"</td>":e+='<td class="input">'+this.sUncheckedHTML+"</td>",e+="<td>"+abbreviate(this.aoCollections[o].name,35)+"</td>",e+="</tr>";e+="</table>",e+='<div id="'+this.sFormContainerId+'" class="new-collection-form clearfix">',e+="<div>",e+='<input type="text" placeholder="New collection" class="collection" id="'+this.sFormInputId+'">',e+='<input type="submit" class="btn btn-default collection" value="Add" id="'+this.sFormSubmitId+'">',e+="</div>",e+="</div>",e+="</div>",this.jOverlay.html(e),this.jRows=[];for(o=0;o<this.aoCollections.length;o++)jRow=$("#"+this.aoCollections[o].id),jRow.bind("click",{collection:this.aoCollections[o]},function(e){e.stopPropagation(),t.handleRowClick(e,$(this),e.data.collection)}),this.jRows.push(jRow);this.jTable=$("#"+this.sTableId),this.jFormContainer=$("#"+this.sFormContainerId),this.jFormInput=$("#"+this.sFormInputId),this.jFormSubmit=$("#"+this.sFormSubmitId),this.jFormInput.focus(function(e){t.handleFormInputFocus(e)}),this.jFormSubmit.click(function(e){t.handleFormSubmitClick(e)})},handleFormInputFocus:function(t){console.log("Collection.handleFormInputFocus()"),this.jFormContainer.addClass("focus")},handleFormSubmitClick:function(t){var e,o;console.log("Collection.handleFormSubmitClick()");var i=this.jFormInput.val();if(0!=i.length){var s;this.jFormContainer.hide(),s='<tr id="'+this.sAddedCollectionId+'">',s+='<td class="input">'+this.sBusyHTML+"</td>",s+='<td class="label">'+abbreviate(i,35)+"</td>",s+="</tr>",this.jTable.append(s),e=$("#"+this.sAddedCollectionId),o=e.children(".input");var n={};n[this.oParams.sCSRFTokenName]=this.oParams.sCSRFToken,n.Collection={name:i};var a=this;$.ajax({async:!0,type:"POST",dataType:"JSON",data:n,url:this.oParams.sURLPostCollectionWithWiki,success:function(t){o.html(a.sUncheckedHTML),a.hideOverlay(),a.jToggle.html(a.sIsFavHTML),a.bCached=!1,a.prepareOverlay()},error:function(t,e,o){console.log("Collection.handleFormSubmitClick() ajax.error(): "+o)}})}},handleRowClick:function(t,e,o){console.log("Collection.handleRowClick() e.delegateTarget.id = "+t.delegateTarget.id),console.log("Collection.handleRowClick() id = "+e.attr("id")),1==o.has_wiki?this.removeWiki(e,o):this.addWiki(e,o)},removeWiki:function(t,e){console.log("Collection.removeWiki() id = "+t.attr("id")),jInput=t.children(".input"),jInput.html(this.sBusyHTML);var o={};o[this.oParams.sCSRFTokenName]=this.oParams.sCSRFToken;var i=this;$.ajax({async:!0,type:"POST",dataType:"JSON",data:o,url:e.url_delete,success:function(t){console.log("Collection.removeWiki().success()"),jInput.html(i.sUncheckedHTML),i.hideOverlay();var e,o=0;for(e=0;e<i.aoCollections.length;e++)i.aoCollections[e].has_wiki&&o++;o>1?i.jToggle.html(i.sIsFavHTML):i.jToggle.html(i.sNotFavHTML),i.bCached=!1,i.prepareOverlay()},error:function(t,e,o){console.log("Collection.removeWiki() ajax.error() jqXHR (see next line):"),console.log(t),console.log("Collection.removeWiki() ajax.error() textStatus: "+e),console.log("Collection.removeWiki() ajax.error() errorThrown: "+o)}})},addWiki:function(t,e){console.log("Collection.addWiki() id = "+t.attr("id")),console.log("Collection.addWiki() url = "+e.url_add),jInput=t.children(".input"),jInput.html(this.sBusyHTML);var o={};o[this.oParams.sCSRFTokenName]=this.oParams.sCSRFToken,o.WikiHasCollection={wiki_id:this.oParams.sWikiId};var i=this;$.ajax({async:!0,type:"POST",dataType:"JSON",data:o,url:e.url_add,success:function(t){jInput.html(i.sCheckedHTML),i.hideOverlay(),i.jToggle.html(i.sIsFavHTML),i.bCached=!1,i.prepareOverlay()},error:function(t,e,o){console.log("Collection.addWiki() ajax.error(): "+o)}})},buildOverlay:function(t){console.log("Collection.buildOverlay()");var e=this.jToggle.offset(),o=(e.left,this.jToggle.width(),e.top,document.createElement("div"));o.id=this.sOverlayId,o.className="collection-overlay overlay",document.body.appendChild(o),this.jOverlay=$("#"+this.sOverlayId),this.jOverlay.click(function(t){t.stopPropagation()})},handleResize:function(){this.updateCss()},updateCss:function(){var t=this.jToggle.offset(),e=20*this.aoCollections.length+40+70;console.log("Collection.updateCss() height: "+e);var o={left:t.left,top:t.top+20+"px",width:"280px",height:e+"px"};void 0!==this.jOverlay&&this.jOverlay.css(o)},handleFocus:function(t){console.log("Collection.handleFocus()")},handleFocusOut:function(t){console.log(document.activeElement)},handleOverlayClick:function(){console.log("Collection.handleOverlayClick()")},handleDocumentClick:function(t){console.log("Collection.handleDocumentClick()"),this.hideOverlay()},showOverlay:function(){console.log("Collection.showOverlay()"),this.updateCss(),this.jOverlay.css({display:"block"}),this.bShowingOverlay=!0},hideOverlay:function(){console.log("Collection.hideOverlay()"),void 0!==this.jOverlay&&this.jOverlay.css({display:"none"}),this.bShowingOverlay=!1},handleReloadSwf:function(t){this.sArtistURL=t.sArtistURL,this.sSongURL=t.sSongURL,this.sRequestType="suggestions",this.makeRequest()}},CPList.prototype.handleRefreshList=function(){this.nResults=0,this.nPage=1,this.sResults="",this.makeRequest()},CPList.prototype.handleLoadMoreClick=function(){this.nPage+=1,this.makeRequest()},CPList.prototype.makeRequest=function(){console.log("CPList.makeRequest()"),this.oOverlay.addClass("loading");var t={};t.nodePath=this.sNodePath,t.key=this.sKey,t.page=this.nPage,t.order=this.oSelect.val(),t.order="dateModified DESC",t[this.oParams.sCSRFTokenName]=this.oParams.sCSRFToken;var e=this;$.ajax({async:!0,type:"POST",dataType:"JSON",url:e.oParams.sURL,data:t,success:function(t){console.log("CPList.makeRequest() ajax success!"),e.sResults+=t.results,e.nNum=t.songs;var o=100*e.nNum/e.nSongs;o=o.toPrecision(2),e.oTitle.html(e.nNum+" songs ("+o+"%) contain "+e.sChords),""!=e.sResults?t.showMore?(e.oContent.html('<ul class="'+e.oParams.sUlClass+'">'+e.sResults+'<li id="'+e.sLoadMoreID+'" class="load-more">Load more results</li></ul>'),$("#"+e.sLoadMoreID).click(function(){e.handleLoadMoreClick()})):e.oContent.html('<ul class="'+e.oParams.sUlClass+'">'+e.sResults+"</ul>"):e.oContent.html(""),1==e.nPage&&e.oContent.scrollTop(0),e.oOverlay.removeClass("loading")},error:function(t,o,i){alert("CPList.makeRequest() error: "+o+i),e.oOverlay.removeClass("loading")}})},CommentForm.prototype.loadPrevious=function(){var t={};t[this.oParams.sCSRFTokenName]=this.oParams.sCSRFToken,t.commentThread_id=this.oParams.sCommentThreadID,t.user_id=this.oParams.sUserID,t.offset=this.jThread.children().size(),t.reverse=this.oParams.bReverse;var e=this;$.ajax({async:!0,type:"POST",dataType:"JSON",data:t,url:e.oParams.sLoadURL,success:function(t){t.success&&(e.oParams.bReverse?e.jThread.append(t.content):e.jThread.prepend(t.content),t.load_more||e.jLoadPrevious.parent().hide())},error:function(t,e,o){alert(e),alert(o)}})},CommentForm.prototype.saveComment=function(){var t={};t[this.oParams.sCSRFTokenName]=this.oParams.sCSRFToken,t.content=this.jInput.val(),t.commentThread_id=this.oParams.sCommentThreadID,this.updateSubmit(!1);var e=this;$.ajax({async:!0,type:"POST",dataType:"JSON",data:t,url:e.oParams.sSaveURL,success:function(t){t.success?(e.jThread.append(t.content),e.jInput.val(""),e.jError.html(""),e.updateSubmit(!0)):(e.jError.html(t.error),e.updateSubmit(!0))},error:function(t,e,o){}})},CommentForm.prototype.updateSubmit=function(t){1==t?(this.jGif.hide(),this.jSubmit.removeClass("disabled"),this.bAllowSubmit=!0):(this.jGif.show(),this.jSubmit.addClass("disabled"),this.bAllowSubmit=!1)},DeleteTool.prototype.handleClick=function(){if(this.oGif.show(),confirm('Are you sure you want to delete "'+this.oParams.sSong+'"?')){var t={};t.id=this.oParams.id,t.sArtistURL=this.oParams.sArtistURL,t.sSongURL=this.oParams.sSongURL,t[this.oParams.sCSRFTokenName]=this.oParams.sCSRFToken;var e=this;$.ajax({async:!0,type:"POST",dataType:"html",data:t,url:e.oParams.sURL,success:function(t){-1!==t.search("Success")&&e.oDiv.hide(),e.oGif.hide()},error:function(t,o,i){alert(o),e.oGif.hide()}})}else this.oGif.hide()},PrivacyTool2.prototype.updatePrivacy=function(){this.oGif.show();var t=this,e={};e.sID=this.oParams.sID,e[this.oParams.sCSRFTokenName]=this.oParams.sCSRFToken,$.ajax({async:!0,type:"POST",dataType:"JSON",data:e,url:t.oParams.sURL,success:function(e){e.bSuccess&&(t.bIsPrivate=e.bIsPrivate,updateProjectShareCode(t.oParams.sID)),t.updateDisplayItems(),t.oGif.hide()},error:function(e,o,i){t.oGif.hide()}})},PrivacyTool2.prototype.updateDisplayItems=function(){this.bIsPrivate?(this.oButton.val("Private"),this.oButton.removeClass("public"),this.oButton.addClass("private")):(this.oButton.val("Public"),this.oButton.removeClass("private"),this.oButton.addClass("public"))},SearchTool2.prototype.handleTextboxClick=function(){this.bHasBeenClicked||(this.oTextbox.val(""),this.oTextbox.removeClass("not-yet-clicked"),this.bHasBeenClicked=!0)},SearchTool2.prototype.handlePulldownChange=function(){this.makeServerRequest()},SearchTool2.prototype.handleKeyUp=function(t){var e=t.keyCode;e<8||e>=9&&e<32||e>=33&&e<46||e>=112&&e<=123||this.makeServerRequest()},SearchTool2.prototype.makeServerRequest=function(){this.sSearchText=this.oTextbox.val(),this.sOrderBy=this.oPulldown.val(),this.sShow=this.oPulldown2.val(),this.sSearchText===this.sTextHint&&(this.sSearchText=""),location.hash=this.sSearchText;this.oContentDiv;var t=this,e=this.sURL+"?sQuery="+this.sSearchText+"&sOrderBy="+this.sOrderBy+"&sShow="+this.sShow;t.makeTextboxSearching(),$.ajax({async:!0,type:"GET",dataType:"html",url:e,success:function(e){t.oDiv.html(e),t.makeTextboxVanilla()},error:function(e,o,i){t.makeTextboxVanilla()}})},SearchTool2.prototype.makeTextboxSearching=function(){this.oSpan.addClass("show")},SearchTool2.prototype.makeTextboxVanilla=function(){this.oSpan.removeClass("show")},SearchToolStudents.prototype.handleTextboxClick=function(){this.bHasBeenClicked||(this.oTextbox.val(""),this.oTextbox.removeClass("not-yet-clicked"),this.bHasBeenClicked=!0)},SearchToolStudents.prototype.handleTextboxClick2=function(){this.bHasBeenClickedText2||(this.oTextbox2.val(""),this.oTextbox2.removeClass("not-yet-clicked"),this.bHasBeenClickedText2=!0)},SearchToolStudents.prototype.handlePulldownChange=function(){this.makeServerRequest()},SearchToolStudents.prototype.handleKeyUp=function(t){var e=t.keyCode;e<8||e>=9&&e<32||e>=33&&e<46||e>=112&&e<=123||this.makeServerRequest()},SearchToolStudents.prototype.makeServerRequest=function(){this.sSearchText=this.oTextbox.val(),this.sSearchText2=this.oTextbox2.val(),this.sOrderBy=this.oPulldown.val(),this.sSearchText===this.sTextHint&&(this.sSearchText=""),this.sSearchText2===this.sTextHint2&&(this.sSearchText2=""),location.hash=this.sSearchText+"_"+this.sSearchText2+"_"+this.sOrderBy;this.oContentDiv;var t=this,e=this.sURL+"?sQuery="+this.sSearchText+"&sQuery2="+this.sSearchText2+"&sOrderBy="+this.sOrderBy+"&page="+this.nPage+"&per_page="+this.nPerPage;t.makeTextboxSearching(),t.oDiv.html("<h3>Loading ...</h3>"),$.ajax({async:!0,type:"GET",dataType:"html",url:e,success:function(e){t.oDiv.html(e),t.makeTextboxVanilla()},error:function(e,o,i){t.makeTextboxVanilla()}})},SearchToolStudents.prototype.makeTextboxSearching=function(){this.oSpan.addClass("show")},SearchToolStudents.prototype.makeTextboxVanilla=function(){this.oSpan.removeClass("show")};